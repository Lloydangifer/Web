<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="stylesheet" href="../../_local/phptech.css">

<title>Remplace toutes les occurrences dans une cha&icirc;ne</title>

</head>
<body>
	<div class="manualnavbar">
		<div class="prev">
			<a href="function.str-repeat.html">str_repeat</a>
		</div>
		<div class="next">
			<a href="function.str-rot13.html">str_rot13</a>
		</div>
		<div class="up">
			<a href="ref.strings.html">Fonctions sur les cha&icirc;nes de
				caract&egrave;res</a>
		</div>
		<div class="home" onclick="location.href='../accueil.html'"></div>
	</div>
	<hr />
	<div id="function.str-replace" class="refentry">
		<div class="refnamediv">
			<h1 class="refname">str_replace</h1>
			<p class="verinfo">(PHP 4, PHP 5)</p>
			<p class="refpurpose">
				<span class="refname">str_replace</span> <span class="mdash">&mdash;</span>
				<span class="dc-title">Remplace toutes les occurrences dans
					une chaîne</span>
			</p>

		</div>

		<div class="refsect1 description"
			id="refsect1-function.str-replace-description">
			<h3 class="title">Description</h3>
			<div class="methodsynopsis dc-description">
				<span class="type"><a
					href="language.pseudo-types.html#language.types.mixed"
					class="type mixed">mixed</a></span> <span class="methodname"><strong>str_replace</strong></span>
				( <span class="methodparam"><span class="type"><a
						href="language.pseudo-types.html#language.types.mixed"
						class="type mixed">mixed</a></span> <code class="parameter">$search</code></span>
				, <span class="methodparam"><span class="type"><a
						href="language.pseudo-types.html#language.types.mixed"
						class="type mixed">mixed</a></span> <code class="parameter">$replace</code></span>
				, <span class="methodparam"><span class="type"><a
						href="language.pseudo-types.html#language.types.mixed"
						class="type mixed">mixed</a></span> <code class="parameter">$subject</code></span>
				[, <span class="methodparam"><span class="type">int</span> <code
						class="parameter reference">&$count</code></span> ] )
			</div>

			<p class="para rdfs-comment">
				<span class="function"><strong>str_replace()</strong></span>
				retourne une chaîne ou un tableau, dont toutes les occurrences de <em><code
						class="parameter">search</code></em> dans <em><code
						class="parameter">subject</code></em> ont été remplacées par <em><code
						class="parameter">replace</code></em>.
			</p>
			<p class="para">
				Si vous n&#039;avez pas besoin de règles de remplacement compliquées
				(comme les expressions rationnelles), utilisez cette fonction de
				préférence à <span class="function"><a
					href="function.preg-replace.html" class="function">preg_replace()</a></span>.
			</p>
		</div>


		<div class="refsect1 parameters"
			id="refsect1-function.str-replace-parameters">
			<h3 class="title">Liste de paramètres</h3>
			<p class="para">
				Si les paramètres <em><code class="parameter">search</code></em> et
				<em><code class="parameter">replace</code></em> sont des tableaux,
				alors la fonction <span class="function"><strong>str_replace()</strong></span>
				prendra une valeur de chaque tableau et les utilisera pour la
				recherche et le remplacement sur <em><code class="parameter">subject</code></em>.
				Si les paramètres <em><code class="parameter">replace</code></em> a
				moins de valeurs que le paramètre <em><code class="parameter">search</code></em>,
				alors une <a href="language.types.string.html" class="link">chaîne
					de caractères</a> vide sera utilisée comme valeur pour le reste des
				valeurs de remplacement. Si le paramètre <em><code
						class="parameter">search</code></em> est un tableau et que le paramètre
				<em><code class="parameter">replace</code></em> est une <a
					href="language.types.string.html" class="link">chaîne de
					caractères</a>, alors cette <a href="language.types.string.html"
					class="link">chaîne de caractères</a> de remplacement sera utilisée
				pour chaque valeur de <em><code class="parameter">search</code></em>.
				L&#039;inverse n&#039;a pas de sens.
			</p>
			<p class="para">
				Si <em><code class="parameter">search</code></em> ou <em><code
						class="parameter">replace</code></em> sont des tableaux, les éléments
				sont traités du premier, au dernier.
			</p>
			<p class="para">
			<dl>

				<dt>

					<span class="term"><em><code class="parameter">search</code></em></span>
				<dd>

					<p class="para">
						La valeur à chercher, autrement connue comme le <em
							class="emphasis">masque</em>. Un tableau peut être utilisé pour
						désigner plusieurs masques.
					</p>
				</dd>

				</dt>

				<dt>

					<span class="term"><em><code class="parameter">replace</code></em></span>
				<dd>

					<p class="para">La valeur de remplacement à substituer aux
						valeurs trouvées. Un tableau peut être utilisé pour désigner
						plusieurs valeurs de remplacement.</p>
				</dd>

				</dt>

				<dt>

					<span class="term"><em><code class="parameter">subject</code></em></span>
				<dd>

					<p class="para">
						La <a href="language.types.string.html" class="link">chaîne de
							caractères</a> ou le tableau sur lequel on va effectuer la recherche
						et le remplacement, aussi connu sous le nom de <em
							class="emphasis">haystack</em>.
					</p>
					<p class="para">
						Si <em><code class="parameter">subject</code></em> est un tableau,
						alors le remplacement se fera sur chaque élément de celui-ci, et
						la valeur retournée sera aussi un tableau.
					</p>
				</dd>

				</dt>

				<dt>

					<span class="term"><em><code class="parameter">count</code></em></span>
				<dd>

					<p class="para">Si fournie, cette variable contiendra le nombre
						de remplacements effectués.</p>
				</dd>

				</dt>

			</dl>

			</p>
		</div>


		<div class="refsect1 returnvalues"
			id="refsect1-function.str-replace-returnvalues">
			<h3 class="title">Valeurs de retour</h3>
			<p class="para">Cette fonction retourne une chaîne, ou un
				tableau, contenant les valeurs remplacées.</p>
		</div>


		<div class="refsect1 changelog"
			id="refsect1-function.str-replace-changelog">
			<h3 class="title">Historique</h3>
			<p class="para">
			<table class="doctable informaltable">

				<thead>
					<tr>
						<th>Version</th>
						<th>Description</th>
					</tr>

				</thead>

				<tbody class="tbody">
					<tr>
						<td>5.0.0</td>
						<td>Ajout du paramètre <em><code class="parameter">count</code></em>.
						</td>
					</tr>

					<tr>
						<td>4.3.3</td>
						<td>Le comportement de cette fonction a changée. Dans les
							version précédentes, un bogue existait lors de l&#039;utilisation
							de tableaux avec les paramètres <em><code class="parameter">search</code></em>
							et <em><code class="parameter">replace</code></em> en même temps.
							Les index de <em><code class="parameter">search</code></em> qui
							étaient vides étaient ignorés, mais le pointeur interne de <em><code
									class="parameter">replace</code></em> n&#039;étais pas incrémenté.
							Cela a été corrigé en PHP 4.3.3, tout script s&#039;appuyant sur
							ce bogue, doit supprimer les entrées vides avant d&#039;appeler
							cette fonction pour imiter le comportement d&#039;origine.
						</td>
					</tr>

					<tr>
						<td>4.0.5</td>
						<td>Les paramètres peuvent maintenant être des tableaux.</td>
					</tr>

				</tbody>

			</table>

			</p>
		</div>


		<div class="refsect1 examples"
			id="refsect1-function.str-replace-examples">
			<h3 class="title">Exemples</h3>
			<p class="para">
			<div class="example" id="example-4536">
				<p>
					<strong>Exemple #1 Exemple 1 avec <span class="function"><strong>str_replace()</strong></span></strong>
				</p>
				<div class="example-contents">
					<div class="phpcode">
						<code>
							<span style="color: #000000"> <span style="color: #0000BB">&lt;?php<br /></span><span
								style="color: #FF8000">//&nbsp;Génère&nbsp;:&nbsp;&lt;body&nbsp;text='black'&gt;<br /></span><span
								style="color: #0000BB">$bodytag&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #0000BB">str_replace</span><span
								style="color: #007700">(</span><span style="color: #DD0000">"%body%"</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"black"</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"&lt;body&nbsp;text='%body%'&gt;"</span><span
								style="color: #007700">);<br />
								<br /></span><span style="color: #FF8000">//&nbsp;Génère&nbsp;:&nbsp;Hll&nbsp;Wrld&nbsp;f&nbsp;PHP<br /></span><span
								style="color: #0000BB">$vowels&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">"a"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"e"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"i"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"o"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"u"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"A"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"E"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"I"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"O"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"U"</span><span style="color: #007700">);<br /></span><span
								style="color: #0000BB">$onlyconsonants&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #0000BB">str_replace</span><span
								style="color: #007700">(</span><span style="color: #0000BB">$vowels</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"Hello&nbsp;World&nbsp;of&nbsp;PHP"</span><span
								style="color: #007700">);<br />
								<br /></span><span style="color: #FF8000">//&nbsp;Génère&nbsp;:&nbsp;You&nbsp;should&nbsp;eat&nbsp;pizza,&nbsp;beer,&nbsp;and&nbsp;ice&nbsp;cream&nbsp;every&nbsp;day<br /></span><span
								style="color: #0000BB">$phrase&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #DD0000">"You&nbsp;should&nbsp;eat&nbsp;fruits,&nbsp;vegetables,&nbsp;and&nbsp;fiber&nbsp;every&nbsp;day."</span><span
								style="color: #007700">;<br /></span><span
								style="color: #0000BB">$healthy&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">"fruits"</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"vegetables"</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"fiber"</span><span
								style="color: #007700">);<br /></span><span
								style="color: #0000BB">$yummy&nbsp;&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">"pizza"</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"beer"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"ice&nbsp;cream"</span><span
								style="color: #007700">);<br />
								<br /></span><span style="color: #0000BB">$newphrase&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #0000BB">str_replace</span><span
								style="color: #007700">(</span><span style="color: #0000BB">$healthy</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$yummy</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$phrase</span><span
								style="color: #007700">);<br />
								<br /></span><span style="color: #FF8000">//&nbsp;Génère&nbsp;:&nbsp;2<br /></span><span
								style="color: #0000BB">$str&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #0000BB">str_replace</span><span
								style="color: #007700">(</span><span style="color: #DD0000">"ll"</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"good&nbsp;golly&nbsp;miss&nbsp;molly!"</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$count</span><span style="color: #007700">);<br />echo&nbsp;
							</span><span style="color: #0000BB">$count</span><span
								style="color: #007700">;<br />
								<br /></span><span style="color: #0000BB">?&gt;</span>
							</span>
						</code>
					</div>
				</div>

			</div>
			</p>
			<p class="para">
			<div class="example" id="example-4537">
				<p>
					<strong>Exemple #2 Exemple 2 avec <span class="function"><strong>str_replace()</strong></span></strong>
				</p>
				<div class="example-contents">
					<div class="phpcode">
						<code>
							<span style="color: #000000"> <span style="color: #0000BB">&lt;?php<br /></span><span
								style="color: #FF8000">//&nbsp;Ordre&nbsp;des&nbsp;remplacements<br /></span><span
								style="color: #0000BB">$str&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #DD0000">"Line&nbsp;1\nLine&nbsp;2\rLine&nbsp;3\r\nLine&nbsp;4\n"</span><span
								style="color: #007700">;<br /></span><span
								style="color: #0000BB">$order&nbsp;&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">"\r\n"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"\n"</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">"\r"</span><span style="color: #007700">);<br /></span><span
								style="color: #0000BB">$replace&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span
								style="color: #007700">;<br />
								<br /></span><span style="color: #FF8000">//&nbsp;Traitement&nbsp;du&nbsp;premier&nbsp;\r\n,&nbsp;ils&nbsp;ne&nbsp;seront&nbsp;pas&nbsp;convertis&nbsp;deux&nbsp;fois.<br /></span><span
								style="color: #0000BB">$newstr&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #0000BB">str_replace</span><span
								style="color: #007700">(</span><span style="color: #0000BB">$order</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$replace</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$str</span><span style="color: #007700">);<br />
								<br /></span><span style="color: #FF8000">//&nbsp;Affiche&nbsp;F&nbsp;car&nbsp;A&nbsp;est&nbsp;remplacé&nbsp;par&nbsp;B,&nbsp;puis&nbsp;B&nbsp;est&nbsp;remplacé&nbsp;par&nbsp;C,&nbsp;et&nbsp;ainsi&nbsp;de&nbsp;suite...<br />//&nbsp;Finalement,&nbsp;E&nbsp;est&nbsp;remplacé&nbsp;par&nbsp;F<br /></span><span
								style="color: #0000BB">$search&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'C'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'D'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'E'</span><span style="color: #007700">);<br /></span><span
								style="color: #0000BB">$replace&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'C'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'D'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'E'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'F'</span><span style="color: #007700">);<br /></span><span
								style="color: #0000BB">$subject&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #DD0000">'A'</span><span style="color: #007700">;<br />echo&nbsp;
							</span><span style="color: #0000BB">str_replace</span><span
								style="color: #007700">(</span><span style="color: #0000BB">$search</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$replace</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$subject</span><span
								style="color: #007700">);<br />
								<br /></span><span style="color: #FF8000">//&nbsp;Affiche&nbsp;:&nbsp;apearpearle&nbsp;pear<br />//&nbsp;Pour&nbsp;les&nbsp;mêmes&nbsp;raisons&nbsp;que&nbsp;plus&nbsp;haut<br /></span><span
								style="color: #0000BB">$letters&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'p'</span><span style="color: #007700">);<br /></span><span
								style="color: #0000BB">$fruit&nbsp;&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;array(</span><span
								style="color: #DD0000">'apple'</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #DD0000">'pear'</span><span style="color: #007700">);<br /></span><span
								style="color: #0000BB">$text&nbsp;&nbsp;&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #DD0000">'a&nbsp;p'</span><span
								style="color: #007700">;<br /></span><span
								style="color: #0000BB">$output&nbsp;&nbsp;</span><span
								style="color: #007700">=&nbsp;</span><span
								style="color: #0000BB">str_replace</span><span
								style="color: #007700">(</span><span style="color: #0000BB">$letters</span><span
								style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$fruit</span><span style="color: #007700">,&nbsp;</span><span
								style="color: #0000BB">$text</span><span style="color: #007700">);<br />echo&nbsp;
							</span><span style="color: #0000BB">$output</span><span
								style="color: #007700">;<br /></span><span
								style="color: #0000BB">?&gt;</span>
							</span>
						</code>
					</div>
				</div>

			</div>
			</p>
		</div>


		<div class="refsect1 notes" id="refsect1-function.str-replace-notes">
			<h3 class="title">Notes</h3>
			<blockquote class="note">
				<p>
					<strong class="note">Note</strong>: <span class="simpara">Cette
						fonction gère les chaînes binaires.</span>
				</p>
			</blockquote>
			<div class="caution">
				<strong class="caution">Attention</strong>
				<h1 class="title">Ordre de remplacement</h1>
				<p class="para">
					A cause du fait que la fonction <span class="function"><strong>str_replace()</strong></span>
					effectue les remplacements de la gauche vers la droite, elle peut
					remplacer une valeur précédemment insérée lors de multiples
					remplacements.
				</p>
			</div>
			<blockquote class="note">
				<p>
					<strong class="note">Note</strong>:
				<p class="para">
					Cette fonction est sensible à la casse. Utilisez la fonction <span
						class="function"><a href="function.str-ireplace.html"
						class="function">str_ireplace()</a></span> pour un remplacement
					insensible à la casse.
			</blockquote>
		</div>


		<div class="refsect1 seealso"
			id="refsect1-function.str-replace-seealso">
			<h3 class="title">Voir aussi</h3>
			<p class="para">
			<ul class="simplelist">
				<li class="member"><span class="function"><a
						href="function.str-ireplace.html" class="function"
						rel="rdfs-seeAlso">str_ireplace()</a> - Version insensible
						&agrave; la casse de str_replace</span></li>
				<li class="member"><span class="function"><a
						href="function.substr-replace.html" class="function"
						rel="rdfs-seeAlso">substr_replace()</a> - Remplace un segment dans
						une cha&icirc;ne</span></li>
				<li class="member"><span class="function"><a
						href="function.preg-replace.html" class="function"
						rel="rdfs-seeAlso">preg_replace()</a> - Rechercher et remplacer
						par expression rationnelle standard</span></li>
				<li class="member"><span class="function"><a
						href="function.strtr.html" class="function" rel="rdfs-seeAlso">strtr()</a>
						- Remplace des caract&egrave;res dans une cha&icirc;ne</span></li>
			</ul>
			</p>
		</div>


	</div>
	<hr /><div class="manualnavbarbas">
		<div class="prev">
			<a href="function.str-repeat.html">str_repeat</a>
		</div>
		<div class="next">
			<a href="function.str-rot13.html">str_rot13</a>
		</div>
		<div class="up">
			<a href="ref.strings.html">Fonctions sur les cha&icirc;nes de
				caract&egrave;res</a>
		</div>
		<div class="home" onclick="location.href='../accueil.html'"></div>
	</div>
</body>
</html>
